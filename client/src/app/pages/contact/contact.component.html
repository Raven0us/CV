<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <mat-form-field class="fw">
    <input id="contact-email" matInput formControlName="email" placeholder="Email address">
    <mat-error *ngIf="email.errors?.required">
      Email is <strong>required</strong>
    </mat-error>
    <mat-error *ngIf="email.errors?.email">
      Please enter a valid email address
    </mat-error>
  </mat-form-field>

  <mat-form-field class="fw">
    <textarea id="contact-body" matInput formControlName="message" required placeholder="Message"
              cdkTextareaAutosize
              #autosize="cdkTextareaAutosize"
              cdkAutosizeMinRows="4"
              cdkAutosizeMaxRows="10"></textarea>
    <mat-hint>{{ form.value.message ? (form.value.message).length : 0 }} / 1500</mat-hint>
    <mat-error *ngIf="message.errors?.required">
      Message is <strong>required</strong>
    </mat-error>
    <mat-error *ngIf="message.errors?.minlength">
      Message needs to contain at least 50 characters
    </mat-error>
    <mat-error *ngIf="message.errors?.maxlength">
      Message needs to contain at most 1500 characters
    </mat-error>

  </mat-form-field>

  <button type="submit" mat-flat-button>Submit</button>
</form>
